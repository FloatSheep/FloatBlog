(function(h,ae){typeof exports=="object"&&typeof module<"u"?ae(require("vue")):typeof define=="function"&&define.amd?define(["vue"],ae):(h=typeof globalThis<"u"?globalThis:h||self,ae(h.Vue))})(this,function(h){"use strict";const ae=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i},Ft=t=>(h.pushScopeId("data-v-56bdaf5c"),t=t(),h.popScopeId(),t),Yt={class:"emactionExpress"},Ut={style:{position:"relative","user-select":"none",display:"flex"}},qt=[Ft(()=>h.createElementVNode("path",{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"},null,-1))],Xt=["onClick"],Gt={style:{display:"flex",gap:"0.375rem"}},Kt=["onClick"],ei={style:{"pointer-events":"none"}},ti={style:{padding:"0 0.375rem","pointer-events":"none"}},ii="👍,thumbs-up;😄,smile-face;🎉,party-popper;😕,confused-face;❤️,red-heart;🚀,rocket;👀,eyes;👎,thumbs-down;",ni=ae({__name:"emactionExpress",props:{availableArrayString:{type:String,default:"👍,thumbs-up;😄,smile-face;🎉,party-popper;😕,confused-face;❤️,red-heart;🚀,rocket;👀,eyes;👎,thumbs-down;"},endpoint:{type:String,default:""},reactTargetId:{type:String,default:"",required:!0},theme:{type:String,default:"system"},threeDimensional:{type:Boolean,default:!1}},setup(t){const e=t,i=h.computed(()=>e.threeDimensional?"Emoji Font":"system-ui"),n=h.ref(!1),r=h.ref([]),a=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark",o=h.ref(e.theme==="dark"||e.theme==="system"&&a==="dark"?"container-dark":"container"),s=h.ref({borderColor:"var(--start-smile-border-color, var(--start-smile-border-color-default))",backgroundColor:"var(--start-smile-bg-color, var(--start-smile-bg-color-default))"}),u=h.ref({fill:"var(--start-smile-svg-fill-color, var(--start-smile-svg-fill-color-default))"}),c=()=>{n.value=!1},f=h.ref(!1),l=h.ref(null),d=()=>{if(!f.value&&l.value){const v=document.createElement("style");v.innerHTML=`
      @font-face {
        font-family: "Emoji Font";
        src: url("https://registry.npmmirror.com/@floatsheep/font/1.0.6/files/seguiemj.woff2");
      }
      .emactionExpress {
        font-family: "Emoji Font";
      }
    `,l.value.appendChild(v),f.value=!0}},p=async v=>{const g=r.value.find(w=>w.reaction_name===v);if(!g){console.error("未知的 reaction!");return}const A=!!g.meReacted,_=Math.max(0,g.count?g.count+(A?-1:1):A?0:1),I=!g.meReacted;r.value=r.value.map(w=>(w.reaction_name===v&&(w.count=_,w.meReacted=I),w)),n.value=!1,await fetch(e.endpoint+"/reaction?"+new URLSearchParams({targetId:e.reactTargetId,reaction_name:v,diff:A?-1:1}),{method:"PATCH"});const O=`meReactedReactions_${e.reactTargetId}`,H=new Set(JSON.parse(window.localStorage.getItem(O)||"[]"));A?H.delete(v):H.add(v),window.localStorage.setItem(O,JSON.stringify(Array.from(H)))},m=async()=>{let v=e.availableArrayString;v||(v=ii);const g=v.split(";").map(O=>{const[H,w]=O.split(",");return!H||!w?null:{emoji:H,reaction_name:w}}).filter(O=>O);if(!e.reactTargetId)throw new Error("reactTargetId 不能为空！");const{data:{reactionsGot:A}}=await fetch(e.endpoint+"/reactions?"+new URLSearchParams({targetId:e.reactTargetId}),{method:"GET"}).then(O=>O.json()).then(O=>{if(!O.data||!Array.isArray(O.data.reactionsGot))throw new Error("获取 reactions 出错！");return O});A.forEach(O=>{g.forEach(H=>{O.reaction_name===H.reaction_name&&(H.count=O.count)})});const _=`meReactedReactions_${e.reactTargetId}`;JSON.parse(window.localStorage.getItem(_)||"[]").forEach(O=>{g.forEach(H=>{O===H.reaction_name&&(H.meReacted=!0)})}),r.value=g};return h.onMounted(()=>{m(),d()}),(v,g)=>(h.openBlock(),h.createElementBlock("div",Yt,[h.createElementVNode("div",{ref_key:"rootElement",ref:l,class:h.normalizeClass(o.value),style:h.normalizeStyle([{"flex-wrap":"nowrap","max-width":"100%",display:"flex",gap:"0.375rem",height:"1.5rem"},{fontFamily:i.value}])},[h.createElementVNode("div",Ut,[h.createElementVNode("div",{id:"start-smile",onClick:g[0]||(g[0]=A=>n.value=!n.value),style:h.normalizeStyle([{display:"flex","align-self":"center","border-radius":"800px","line-height":"1rem",padding:"0.25rem"},s.value])},[(h.openBlock(),h.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"1rem",height:"1rem",id:"start-smile-svg",style:h.normalizeStyle([{cursor:"pointer"},u.value])},qt,4))],4),h.createElementVNode("div",{class:"anim-scale-in reaction-available-popup",onClick:c,style:h.normalizeStyle([{display:n.value?"flex":"none"},{"user-select":"none",position:"absolute",top:"-3rem","font-size":"0.875rem","border-radius":"0.375rem",padding:"0 0.125rem"}])},[(h.openBlock(!0),h.createElementBlock(h.Fragment,null,h.renderList(r.value,A=>(h.openBlock(),h.createElementBlock("span",{key:A.reaction_name,onClick:_=>p(A.reaction_name),class:h.normalizeClass(["reaction-available-emoji",{"reaction-available-emoji-reacted":A.meReacted}]),style:{cursor:"pointer",margin:"0.25rem 0.125rem",padding:"0.25rem","border-radius":"0.375rem"}},h.toDisplayString(A.emoji),11,Xt))),128))],4)]),h.createElementVNode("div",Gt,[(h.openBlock(!0),h.createElementBlock(h.Fragment,null,h.renderList(r.value,A=>(h.openBlock(),h.createElementBlock("div",{key:A.reaction_name,onClick:_=>p(A.reaction_name),class:h.normalizeClass([A.meReacted?"reaction-got-reacted":"reaction-got-not-reacted"]),style:h.normalizeStyle([{display:A.count&&A.count>0?"flex":"none"},{"user-select":"none",cursor:"pointer","justify-content":"center","align-items":"center","border-radius":"108px",padding:"0 0.25rem","font-size":"0.75rem"}])},[h.createElementVNode("span",ei,h.toDisplayString(A.emoji),1),h.createElementVNode("span",ti,h.toDisplayString(A.count),1)],14,Kt))),128))])],6)]))}},[["__scopeId","data-v-56bdaf5c"]]),ri={loadingLyric:["Chipi，","chipi，","chapa，",`chapa
`,"Dubi，","dubi，","daba，",`daba
`,"Mágico，","mi，","dubi，",`dubi
`,"boom，","boom，","boom，",`boom
`,"Chipi，","chipi，","chapa，",`chapa
`,"Dubi，","dubi，","daba，",`daba
`,"Mágico，","mi，","dubi，",`dubi
`,`booooooooooooooom
`]},ai={key:0,id:"talk-wrapper"},oi={class:"talk-id"},si=["innerHTML"],ci={class:"talk-img-list"},li=["src"],hi={key:1},ui={class:"talk-time"},fi={key:0},di={key:1},vi=["innerHTML"],mi={__name:"App",props:{config:Object},setup(t){const e=t,i={serverUrl:e.config.serverUrl||"",selector:e.config.selector,zoom:e.config.zoom||!1,custom:e.config.custom||{proxy:{proxyUrl:e.config.serverUrl,image:!1},emaction:{enable:!1,endpoint:"",theme:"",availableArrayString:"",threeDimensional:!1}}},n=ri.loadingLyric;let r=0;const a=h.ref("");setInterval(()=>{a.value+=n[r].replace(/\n/g,"<br>"),r++,r>=n.length&&(r=0)},400);const o=h.ref(null),s=h.ref(null),u=h.ref(null),c=async l=>{try{let d;l?d=await fetch(`${i.serverUrl}/?startbefore=${u.value}`):d=await fetch(i.serverUrl);const p=await d.json();u.value=p.nextBefore,p.ChannelMessageData.map(m=>{m.text=m.text.replace(/<a[^>]*?(#SFCN|href="[^"]*SFCN[^"]*")[^>]*>.*?<\/a>/gi,""),m.image=m.image.map(v=>{let g=i.custom.proxy.image?v.replace(/(https:\/\/cdn\d*\.cdn-telegram\.org\/file\/[^"]+)/g,`${i.custom.proxy.proxyUrl}/?proxy=$1`):v;return g=g.replace(/\/\/telegram\.org\/img\/emoji\/40\/[A-F0-9]+\.png/g,""),g}),m.time=new Date(m.time).toLocaleString()}),l?p.ChannelMessageData.map(m=>o.value.ChannelMessageData.push(m)):o.value=p}catch(d){s.value=d}},f=()=>{c(!0)};return h.onMounted(()=>{c(!1)}),(l,d)=>{const p=h.resolveDirective("lazy"),m=h.resolveDirective("viewer");return o.value?(h.openBlock(),h.createElementBlock("div",ai,[(h.openBlock(!0),h.createElementBlock(h.Fragment,null,h.renderList(o.value.ChannelMessageData,v=>(h.openBlock(),h.createElementBlock("div",{class:"talk-package",key:v.id},[h.createElementVNode("div",oi,"#"+h.toDisplayString(v.id),1),h.createElementVNode("div",{class:"talk-text",innerHTML:v.text},null,8,si),h.createElementVNode("div",ci,[(h.openBlock(!0),h.createElementBlock(h.Fragment,null,h.renderList(v.image,g=>(h.openBlock(),h.createElementBlock("div",{class:"talk-img",key:g},[i.zoom&&g?h.withDirectives((h.openBlock(),h.createElementBlock("img",{key:0,src:g},null,8,li)),[[p,g],[m]]):g?h.withDirectives((h.openBlock(),h.createElementBlock("img",hi,null,512)),[[p,g]]):h.createCommentVNode("",!0)]))),128))]),i.custom.emaction.enable?(h.openBlock(),h.createBlock(ni,{key:0,availableArrayString:i.custom.emaction.availableArrayString,endpoint:i.custom.emaction.endpoint,reactTargetId:"tgtalk-evaluate-id-"+v.id,theme:i.custom.emaction.theme,threeDimensional:i.custom.emaction.threeDimensional},null,8,["availableArrayString","endpoint","reactTargetId","theme","threeDimensional"])):h.createCommentVNode("",!0),h.createElementVNode("div",ui,h.toDisplayString(v.time),1)]))),128)),u.value?(h.openBlock(),h.createElementBlock("center",fi,[h.createElementVNode("span",{class:"getMore",onClick:f},"从 #"+h.toDisplayString(u.value)+" 消息起查看更多",1)])):h.createCommentVNode("",!0)])):s.value?(h.openBlock(),h.createElementBlock("p",di,"请求数据时发生了一些错误："+h.toDisplayString(s.value),1)):(h.openBlock(),h.createElementBlock("p",{key:2,class:"center",innerHTML:a.value},null,8,vi))}}};/*!
 * Viewer.js v1.11.6
 * https://fengyuanchen.github.io/viewerjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:16:38.052Z
 */function je(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function De(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?je(Object(i),!0).forEach(function(n){pi(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):je(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function Ee(t){"@babel/helpers - typeof";return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(t)}function gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ve(n.key),n)}}function yi(t,e,i){return e&&Re(t.prototype,e),i&&Re(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function pi(t,e,i){return e=Ve(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function bi(t,e){if(typeof t!="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ve(t){var e=bi(t,"string");return typeof e=="symbol"?e:String(e)}var Me={backdrop:!0,button:!0,navbar:!0,title:!0,toolbar:!0,className:"",container:"body",filter:null,fullscreen:!0,inheritedAttributes:["crossOrigin","decoding","isMap","loading","referrerPolicy","sizes","srcset","useMap"],initialCoverage:.9,initialViewIndex:0,inline:!1,interval:5e3,keyboard:!0,focus:!0,loading:!0,loop:!0,minWidth:200,minHeight:100,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,slideOnTouch:!0,toggleOnDblclick:!0,tooltip:!0,transition:!0,zIndex:2015,zIndexInline:0,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,url:"src",ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,move:null,moved:null,rotate:null,rotated:null,scale:null,scaled:null,zoom:null,zoomed:null,play:null,stop:null},Ai='<div class="viewer-container" tabindex="-1" touch-action="none"><div class="viewer-canvas"></div><div class="viewer-footer"><div class="viewer-title"></div><div class="viewer-toolbar"></div><div class="viewer-navbar"><ul class="viewer-list" role="navigation"></ul></div></div><div class="viewer-tooltip" role="alert" aria-hidden="true"></div><div class="viewer-button" data-viewer-action="mix" role="button"></div><div class="viewer-player"></div></div>',fe=typeof window<"u"&&typeof window.document<"u",M=fe?window:{},Y=fe&&M.document.documentElement?"ontouchstart"in M.document.documentElement:!1,Pe=fe?"PointerEvent"in M:!1,k="viewer",de="move",Be="switch",oe="zoom",ve="".concat(k,"-active"),wi="".concat(k,"-close"),me="".concat(k,"-fade"),Se="".concat(k,"-fixed"),ki="".concat(k,"-fullscreen"),$e="".concat(k,"-fullscreen-exit"),W="".concat(k,"-hide"),Ti="".concat(k,"-hide-md-down"),Ii="".concat(k,"-hide-sm-down"),Oi="".concat(k,"-hide-xs-down"),Z="".concat(k,"-in"),se="".concat(k,"-invisible"),U="".concat(k,"-loading"),Di="".concat(k,"-move"),We="".concat(k,"-open"),q="".concat(k,"-show"),C="".concat(k,"-transition"),X="click",_e="dblclick",Fe="dragstart",Ye="focusin",Ue="keydown",J="load",F="error",Ei=Y?"touchend touchcancel":"mouseup",Pi=Y?"touchmove":"mousemove",Si=Y?"touchstart":"mousedown",qe=Pe?"pointerdown":Si,Xe=Pe?"pointermove":Pi,Ge=Pe?"pointerup pointercancel":Ei,Ke="resize",z="transitionend",et="wheel",tt="ready",it="show",nt="shown",rt="hide",at="hidden",ot="view",ce="viewed",st="move",ct="moved",lt="rotate",ht="rotated",ut="scale",ft="scaled",dt="zoom",vt="zoomed",mt="play",gt="stop",ge="".concat(k,"Action"),He=/\s\s*/,ye=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical"];function le(t){return typeof t=="string"}var _i=Number.isNaN||M.isNaN;function N(t){return typeof t=="number"&&!_i(t)}function G(t){return typeof t>"u"}function K(t){return Ee(t)==="object"&&t!==null}var Hi=Object.prototype.hasOwnProperty;function ee(t){if(!K(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&Hi.call(i,"isPrototypeOf")}catch{return!1}}function D(t){return typeof t=="function"}function P(t,e){if(t&&D(e))if(Array.isArray(t)||N(t.length)){var i=t.length,n;for(n=0;n<i&&e.call(t,t[n],n,t)!==!1;n+=1);}else K(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)});return t}var L=Object.assign||function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return K(e)&&n.length>0&&n.forEach(function(a){K(a)&&Object.keys(a).forEach(function(o){e[o]=a[o]})}),e},Ni=/^(?:width|height|left|top|marginLeft|marginTop)$/;function j(t,e){var i=t.style;P(e,function(n,r){Ni.test(r)&&N(n)&&(n+="px"),i[r]=n})}function Ci(t){return le(t)?t.replace(/&(?!amp;|quot;|#39;|lt;|gt;)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function te(t,e){return!t||!e?!1:t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function y(t,e){if(!(!t||!e)){if(N(t.length)){P(t,function(n){y(n,e)});return}if(t.classList){t.classList.add(e);return}var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function T(t,e){if(!(!t||!e)){if(N(t.length)){P(t,function(i){T(i,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function he(t,e,i){if(e){if(N(t.length)){P(t,function(n){he(n,e,i)});return}i?y(t,e):T(t,e)}}var xi=/([a-z\d])([A-Z])/g;function Ne(t){return t.replace(xi,"$1-$2").toLowerCase()}function ie(t,e){return K(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Ne(e)))}function Ce(t,e,i){K(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(Ne(e)),i)}var yt=function(){var t=!1;if(fe){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});M.addEventListener("test",i,n),M.removeEventListener("test",i,n)}return t}();function E(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=i;e.trim().split(He).forEach(function(a){if(!yt){var o=t.listeners;o&&o[a]&&o[a][i]&&(r=o[a][i],delete o[a][i],Object.keys(o[a]).length===0&&delete o[a],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(a,r,n)})}function b(t,e,i){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},r=i;e.trim().split(He).forEach(function(a){if(n.once&&!yt){var o=t.listeners,s=o===void 0?{}:o;r=function(){delete s[a][i],t.removeEventListener(a,r,n);for(var c=arguments.length,f=new Array(c),l=0;l<c;l++)f[l]=arguments[l];i.apply(t,f)},s[a]||(s[a]={}),s[a][i]&&t.removeEventListener(a,s[a][i],n),s[a][i]=r,t.listeners=s}t.addEventListener(a,r,n)})}function x(t,e,i,n){var r;return D(Event)&&D(CustomEvent)?r=new CustomEvent(e,De({bubbles:!0,cancelable:!0,detail:i},n)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(r)}function Qi(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function pe(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,o=[];N(r)&&r!==0&&o.push("translateX(".concat(r,"px)")),N(a)&&a!==0&&o.push("translateY(".concat(a,"px)")),N(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),N(i)&&i!==1&&o.push("scaleX(".concat(i,")")),N(n)&&n!==1&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function Li(t){return le(t)?decodeURIComponent(t.replace(/^.*\//,"").replace(/[?&#].*$/,"")):""}var xe=M.navigator&&/Version\/\d+(\.\d+)+?\s+Safari/i.test(M.navigator.userAgent);function pt(t,e,i){var n=document.createElement("img");if(t.naturalWidth&&!xe)return i(t.naturalWidth,t.naturalHeight),n;var r=document.body||document.documentElement;return n.onload=function(){i(n.width,n.height),xe||r.removeChild(n)},P(e.inheritedAttributes,function(a){var o=t.getAttribute(a);o!==null&&n.setAttribute(a,o)}),n.src=t.src,xe||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(n)),n}function be(t){switch(t){case 2:return Oi;case 3:return Ii;case 4:return Ti;default:return""}}function Zi(t){var e=De({},t),i=[];return P(t,function(n,r){delete e[r],P(e,function(a){var o=Math.abs(n.startX-a.startX),s=Math.abs(n.startY-a.startY),u=Math.abs(n.endX-a.endX),c=Math.abs(n.endY-a.endY),f=Math.sqrt(o*o+s*s),l=Math.sqrt(u*u+c*c),d=(l-f)/f;i.push(d)})}),i.sort(function(n,r){return Math.abs(n)<Math.abs(r)}),i[0]}function Ae(t,e){var i=t.pageX,n=t.pageY,r={endX:i,endY:n};return e?r:De({timeStamp:Date.now(),startX:i,startY:n},r)}function Ji(t){var e=0,i=0,n=0;return P(t,function(r){var a=r.startX,o=r.startY;e+=a,i+=o,n+=1}),e/=n,i/=n,{pageX:e,pageY:i}}var zi={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initBody:function(){var e=this.element.ownerDocument,i=e.body||e.documentElement;this.body=i,this.scrollbarWidth=window.innerWidth-e.documentElement.clientWidth,this.initialBodyPaddingRight=i.style.paddingRight,this.initialBodyComputedPaddingRight=window.getComputedStyle(i).paddingRight},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e=this.options,i=this.parent,n;e.inline&&(n={width:Math.max(i.offsetWidth,e.minWidth),height:Math.max(i.offsetHeight,e.minHeight)},this.parentData=n),(this.fulled||!n)&&(n=this.containerData),this.viewerData=L({},n)},renderViewer:function(){this.options.inline&&!this.fulled&&j(this.viewer,this.viewerData)},initList:function(){var e=this,i=this.element,n=this.options,r=this.list,a=[];r.innerHTML="",P(this.images,function(o,s){var u=o.src,c=o.alt||Li(u),f=e.getImageURL(o);if(u||f){var l=document.createElement("li"),d=document.createElement("img");P(n.inheritedAttributes,function(p){var m=o.getAttribute(p);m!==null&&d.setAttribute(p,m)}),n.navbar&&(d.src=u||f),d.alt=c,d.setAttribute("data-original-url",f||u),l.setAttribute("data-index",s),l.setAttribute("data-viewer-action","view"),l.setAttribute("role","button"),n.keyboard&&l.setAttribute("tabindex",0),l.appendChild(d),r.appendChild(l),a.push(l)}}),this.items=a,P(a,function(o){var s=o.firstElementChild,u,c;Ce(s,"filled",!0),n.loading&&y(o,U),b(s,J,u=function(l){E(s,F,c),n.loading&&T(o,U),e.loadImage(l)},{once:!0}),b(s,F,c=function(){E(s,J,u),n.loading&&T(o,U)},{once:!0})}),n.transition&&b(i,ce,function(){y(r,C)},{once:!0})},renderList:function(){var e=this.index,i=this.items[e];if(i){var n=i.nextElementSibling,r=parseInt(window.getComputedStyle(n||i).marginLeft,10),a=i.offsetWidth,o=a+r;j(this.list,L({width:o*this.length-r},pe({translateX:(this.viewerData.width-a)/2-o*e})))}},resetList:function(){var e=this.list;e.innerHTML="",T(e,C),j(e,pe({translateX:0}))},initImage:function(e){var i=this,n=this.options,r=this.image,a=this.viewerData,o=this.footer.offsetHeight,s=a.width,u=Math.max(a.height-o,o),c=this.imageData||{},f;this.imageInitializing={abort:function(){f.onload=null}},f=pt(r,n,function(l,d){var p=l/d,m=Math.max(0,Math.min(1,n.initialCoverage)),v=s,g=u;i.imageInitializing=!1,u*p>s?g=s/p:v=u*p,m=N(m)?m:.9,v=Math.min(v*m,l),g=Math.min(g*m,d);var A=(s-v)/2,_=(u-g)/2,I={left:A,top:_,x:A,y:_,width:v,height:g,oldRatio:1,ratio:v/l,aspectRatio:p,naturalWidth:l,naturalHeight:d},O=L({},I);n.rotatable&&(I.rotate=c.rotate||0,O.rotate=0),n.scalable&&(I.scaleX=c.scaleX||1,I.scaleY=c.scaleY||1,O.scaleX=1,O.scaleY=1),i.imageData=I,i.initialImageData=O,e&&e()})},renderImage:function(e){var i=this,n=this.image,r=this.imageData;if(j(n,L({width:r.width,height:r.height,marginLeft:r.x,marginTop:r.y},pe(r))),e)if((this.viewing||this.moving||this.rotating||this.scaling||this.zooming)&&this.options.transition&&te(n,C)){var a=function(){i.imageRendering=!1,e()};this.imageRendering={abort:function(){E(n,z,a)}},b(n,z,a,{once:!0})}else e()},resetImage:function(){var e=this.image;e&&(this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null,this.title.innerHTML="")}},ji={bind:function(){var e=this.options,i=this.viewer,n=this.canvas,r=this.element.ownerDocument;b(i,X,this.onClick=this.click.bind(this)),b(i,Fe,this.onDragStart=this.dragstart.bind(this)),b(n,qe,this.onPointerDown=this.pointerdown.bind(this)),b(r,Xe,this.onPointerMove=this.pointermove.bind(this)),b(r,Ge,this.onPointerUp=this.pointerup.bind(this)),b(r,Ue,this.onKeyDown=this.keydown.bind(this)),b(window,Ke,this.onResize=this.resize.bind(this)),e.zoomable&&e.zoomOnWheel&&b(i,et,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleOnDblclick&&b(n,_e,this.onDblclick=this.dblclick.bind(this))},unbind:function(){var e=this.options,i=this.viewer,n=this.canvas,r=this.element.ownerDocument;E(i,X,this.onClick),E(i,Fe,this.onDragStart),E(n,qe,this.onPointerDown),E(r,Xe,this.onPointerMove),E(r,Ge,this.onPointerUp),E(r,Ue,this.onKeyDown),E(window,Ke,this.onResize),e.zoomable&&e.zoomOnWheel&&E(i,et,this.onWheel,{passive:!1,capture:!0}),e.toggleOnDblclick&&E(n,_e,this.onDblclick)}},Ri={click:function(e){var i=this.options,n=this.imageData,r=e.target,a=ie(r,ge);switch(!a&&r.localName==="img"&&r.parentElement.localName==="li"&&(r=r.parentElement,a=ie(r,ge)),Y&&e.isTrusted&&r===this.canvas&&clearTimeout(this.clickCanvasTimeout),a){case"mix":this.played?this.stop():i.inline?this.fulled?this.exit():this.full():this.hide();break;case"hide":this.pointerMoved||this.hide();break;case"view":this.view(ie(r,"index"));break;case"zoom-in":this.zoom(.1,!0);break;case"zoom-out":this.zoom(-.1,!0);break;case"one-to-one":this.toggle();break;case"reset":this.reset();break;case"prev":this.prev(i.loop);break;case"play":this.play(i.fullscreen);break;case"next":this.next(i.loop);break;case"rotate-left":this.rotate(-90);break;case"rotate-right":this.rotate(90);break;case"flip-horizontal":this.scaleX(-n.scaleX||-1);break;case"flip-vertical":this.scaleY(-n.scaleY||-1);break;default:this.played&&this.stop()}},dblclick:function(e){e.preventDefault(),this.viewed&&e.target===this.image&&(Y&&e.isTrusted&&clearTimeout(this.doubleClickImageTimeout),this.toggle(e.isTrusted?e:e.detail&&e.detail.originalEvent))},load:function(){var e=this;this.timeout&&(clearTimeout(this.timeout),this.timeout=!1);var i=this.element,n=this.options,r=this.image,a=this.index,o=this.viewerData;T(r,se),n.loading&&T(this.canvas,U),r.style.cssText="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:relative;width:0;",this.initImage(function(){he(r,Di,n.movable),he(r,C,n.transition),e.renderImage(function(){e.viewed=!0,e.viewing=!1,D(n.viewed)&&b(i,ce,n.viewed,{once:!0}),x(i,ce,{originalImage:e.images[a],index:a,image:r},{cancelable:!1})})})},loadImage:function(e){var i=e.target,n=i.parentNode,r=n.offsetWidth||30,a=n.offsetHeight||50,o=!!ie(i,"filled");pt(i,this.options,function(s,u){var c=s/u,f=r,l=a;a*c>r?o?f=a*c:l=r/c:o?l=r/c:f=a*c,j(i,L({width:f,height:l},pe({translateX:(r-f)/2,translateY:(a-l)/2})))})},keydown:function(e){var i=this.options;if(i.keyboard){var n=e.keyCode||e.which||e.charCode;switch(n){case 13:this.viewer.contains(e.target)&&this.click(e);break}if(this.fulled)switch(n){case 27:this.played?this.stop():i.inline?this.fulled&&this.exit():this.hide();break;case 32:this.played&&this.stop();break;case 37:this.played&&this.playing?this.playing.prev():this.prev(i.loop);break;case 38:e.preventDefault(),this.zoom(i.zoomRatio,!0);break;case 39:this.played&&this.playing?this.playing.next():this.next(i.loop);break;case 40:e.preventDefault(),this.zoom(-i.zoomRatio,!0);break;case 48:case 49:e.ctrlKey&&(e.preventDefault(),this.toggle());break}}},dragstart:function(e){e.target.localName==="img"&&e.preventDefault()},pointerdown:function(e){var i=this.options,n=this.pointers,r=e.buttons,a=e.button;if(this.pointerMoved=!1,!(!this.viewed||this.showing||this.viewing||this.hiding||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(N(r)&&r!==1||N(a)&&a!==0||e.ctrlKey))){e.preventDefault(),e.changedTouches?P(e.changedTouches,function(s){n[s.identifier]=Ae(s)}):n[e.pointerId||0]=Ae(e);var o=i.movable?de:!1;i.zoomOnTouch&&i.zoomable&&Object.keys(n).length>1?o=oe:i.slideOnTouch&&(e.pointerType==="touch"||e.type==="touchstart")&&this.isSwitchable()&&(o=Be),i.transition&&(o===de||o===oe)&&T(this.image,C),this.action=o}},pointermove:function(e){var i=this.pointers,n=this.action;!this.viewed||!n||(e.preventDefault(),e.changedTouches?P(e.changedTouches,function(r){L(i[r.identifier]||{},Ae(r,!0))}):L(i[e.pointerId||0]||{},Ae(e,!0)),this.change(e))},pointerup:function(e){var i=this,n=this.options,r=this.action,a=this.pointers,o;e.changedTouches?P(e.changedTouches,function(s){o=a[s.identifier],delete a[s.identifier]}):(o=a[e.pointerId||0],delete a[e.pointerId||0]),r&&(e.preventDefault(),n.transition&&(r===de||r===oe)&&y(this.image,C),this.action=!1,Y&&r!==oe&&o&&Date.now()-o.timeStamp<500&&(clearTimeout(this.clickCanvasTimeout),clearTimeout(this.doubleClickImageTimeout),n.toggleOnDblclick&&this.viewed&&e.target===this.image?this.imageClicked?(this.imageClicked=!1,this.doubleClickImageTimeout=setTimeout(function(){x(i.image,_e,{originalEvent:e})},50)):(this.imageClicked=!0,this.doubleClickImageTimeout=setTimeout(function(){i.imageClicked=!1},500)):(this.imageClicked=!1,n.backdrop&&n.backdrop!=="static"&&e.target===this.canvas&&(this.clickCanvasTimeout=setTimeout(function(){x(i.canvas,X,{originalEvent:e})},50)))))},resize:function(){var e=this;if(!(!this.isShown||this.hiding)&&(this.fulled&&(this.close(),this.initBody(),this.open()),this.initContainer(),this.initViewer(),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage()}),this.played)){if(this.options.fullscreen&&this.fulled&&!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)){this.stop();return}P(this.player.getElementsByTagName("img"),function(i){b(i,J,e.loadImage.bind(e),{once:!0}),x(i,J)})}},wheel:function(e){var i=this;if(this.viewed&&(e.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout(function(){i.wheeling=!1},50);var n=Number(this.options.zoomRatio)||.1,r=1;e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,!0,null,e)}}},Vi={show:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(D(n.show)&&b(i,it,n.show,{once:!0}),x(i,it)===!1||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r=this.viewer;if(T(r,W),r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",this.title.id),r.setAttribute("aria-modal",!0),r.removeAttribute("aria-hidden"),n.transition&&!e){var a=this.shown.bind(this);this.transitioning={abort:function(){E(r,z,a),T(r,Z)}},y(r,C),r.initialOffsetWidth=r.offsetWidth,b(r,z,a,{once:!0}),y(r,Z)}else y(r,Z),this.shown();return this},hide:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.element,r=this.options;if(r.inline||this.hiding||!(this.isShown||this.showing))return this;if(D(r.hide)&&b(n,rt,r.hide,{once:!0}),x(n,rt)===!1)return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var a=this.viewer,o=this.image,s=function(){T(a,Z),e.hidden()};if(r.transition&&!i){var u=function f(l){l&&l.target===a&&(E(a,z,f),e.hidden())},c=function(){te(a,C)?(b(a,z,u),T(a,Z)):s()};this.transitioning={abort:function(){e.viewed&&te(o,C)?E(o,z,c):te(a,C)&&E(a,z,u)}},this.viewed&&te(o,C)?(b(o,z,c,{once:!0}),this.zoomTo(0,!1,null,null,!0)):c()}else s();return this},view:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.initialViewIndex;if(i=Number(i)||0,this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;if(!this.isShown)return this.index=i,this.show();this.viewing&&this.viewing.abort();var n=this.element,r=this.options,a=this.title,o=this.canvas,s=this.items[i],u=s.querySelector("img"),c=ie(u,"originalUrl"),f=u.getAttribute("alt"),l=document.createElement("img");if(P(r.inheritedAttributes,function(g){var A=u.getAttribute(g);A!==null&&l.setAttribute(g,A)}),l.src=c,l.alt=f,D(r.view)&&b(n,ot,r.view,{once:!0}),x(n,ot,{originalImage:this.images[i],index:i,image:l})===!1||!this.isShown||this.hiding||this.played)return this;var d=this.items[this.index];d&&(T(d,ve),d.removeAttribute("aria-selected")),y(s,ve),s.setAttribute("aria-selected",!0),r.focus&&s.focus(),this.image=l,this.viewed=!1,this.index=i,this.imageData={},y(l,se),r.loading&&y(o,U),o.innerHTML="",o.appendChild(l),this.renderList(),a.innerHTML="";var p=function(){var A=e.imageData,_=Array.isArray(r.title)?r.title[1]:r.title;a.innerHTML=Ci(D(_)?_.call(e,l,A):"".concat(f," (").concat(A.naturalWidth," × ").concat(A.naturalHeight,")"))},m,v;return b(n,ce,p,{once:!0}),this.viewing={abort:function(){E(n,ce,p),l.complete?e.imageRendering?e.imageRendering.abort():e.imageInitializing&&e.imageInitializing.abort():(l.src="",E(l,J,m),e.timeout&&clearTimeout(e.timeout))}},l.complete?this.load():(b(l,J,m=function(){E(l,F,v),e.load()},{once:!0}),b(l,F,v=function(){E(l,J,m),e.timeout&&(clearTimeout(e.timeout),e.timeout=!1),T(l,se),r.loading&&T(e.canvas,U)},{once:!0}),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(function(){T(l,se),e.timeout=!1},1e3)),this},prev:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.index-1;return i<0&&(i=e?this.length-1:0),this.view(i),this},next:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.length-1,n=this.index+1;return n>i&&(n=e?0:i),this.view(n),this},move:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData;return this.moveTo(G(e)?e:n.x+Number(e),G(i)?i:n.y+Number(i)),this},moveTo:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=this.element,o=this.options,s=this.imageData;if(e=Number(e),n=Number(n),this.viewed&&!this.played&&o.movable){var u=s.x,c=s.y,f=!1;if(N(e)?f=!0:e=u,N(n)?f=!0:n=c,f){if(D(o.move)&&b(a,st,o.move,{once:!0}),x(a,st,{x:e,y:n,oldX:u,oldY:c,originalEvent:r})===!1)return this;s.x=e,s.y=n,s.left=e,s.top=n,this.moving=!0,this.renderImage(function(){i.moving=!1,D(o.moved)&&b(a,ct,o.moved,{once:!0}),x(a,ct,{x:e,y:n,oldX:u,oldY:c,originalEvent:r},{cancelable:!1})})}}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e)),this},rotateTo:function(e){var i=this,n=this.element,r=this.options,a=this.imageData;if(e=Number(e),N(e)&&this.viewed&&!this.played&&r.rotatable){var o=a.rotate;if(D(r.rotate)&&b(n,lt,r.rotate,{once:!0}),x(n,lt,{degree:e,oldDegree:o})===!1)return this;a.rotate=e,this.rotating=!0,this.renderImage(function(){i.rotating=!1,D(r.rotated)&&b(n,ht,r.rotated,{once:!0}),x(n,ht,{degree:e,oldDegree:o},{cancelable:!1})})}return this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.element,a=this.options,o=this.imageData;if(e=Number(e),n=Number(n),this.viewed&&!this.played&&a.scalable){var s=o.scaleX,u=o.scaleY,c=!1;if(N(e)?c=!0:e=s,N(n)?c=!0:n=u,c){if(D(a.scale)&&b(r,ut,a.scale,{once:!0}),x(r,ut,{scaleX:e,scaleY:n,oldScaleX:s,oldScaleY:u})===!1)return this;o.scaleX=e,o.scaleY=n,this.scaling=!0,this.renderImage(function(){i.scaling=!1,D(a.scaled)&&b(r,ft,a.scaled,{once:!0}),x(r,ft,{scaleX:e,scaleY:n,oldScaleX:s,oldScaleY:u},{cancelable:!1})})}}return this},zoom:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=this.imageData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(a.width*e/a.naturalWidth,i,n,r),this},zoomTo:function(e){var i=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,s=this.element,u=this.options,c=this.pointers,f=this.imageData,l=f.x,d=f.y,p=f.width,m=f.height,v=f.naturalWidth,g=f.naturalHeight;if(e=Math.max(0,e),N(e)&&this.viewed&&!this.played&&(o||u.zoomable)){if(!o){var A=Math.max(.01,u.minZoomRatio),_=Math.min(100,u.maxZoomRatio);e=Math.min(Math.max(e,A),_)}if(a)switch(a.type){case"wheel":u.zoomRatio>=.055&&e>.95&&e<1.05&&(e=1);break;case"pointermove":case"touchmove":case"mousemove":e>.99&&e<1.01&&(e=1);break}var I=v*e,O=g*e,H=I-p,w=O-m,Q=f.ratio;if(D(u.zoom)&&b(s,dt,u.zoom,{once:!0}),x(s,dt,{ratio:e,oldRatio:Q,originalEvent:a})===!1)return this;if(this.zooming=!0,a){var R=Qi(this.viewer),B=c&&Object.keys(c).length>0?Ji(c):{pageX:a.pageX,pageY:a.pageY};f.x-=H*((B.pageX-R.left-l)/p),f.y-=w*((B.pageY-R.top-d)/m)}else ee(r)&&N(r.x)&&N(r.y)?(f.x-=H*((r.x-l)/p),f.y-=w*((r.y-d)/m)):(f.x-=H/2,f.y-=w/2);f.left=f.x,f.top=f.y,f.width=I,f.height=O,f.oldRatio=Q,f.ratio=e,this.renderImage(function(){i.zooming=!1,D(u.zoomed)&&b(s,vt,u.zoomed,{once:!0}),x(s,vt,{ratio:e,oldRatio:Q,originalEvent:a},{cancelable:!1})}),n&&this.tooltip()}return this},play:function(){var e=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.isShown||this.played)return this;var n=this.element,r=this.options;if(D(r.play)&&b(n,mt,r.play,{once:!0}),x(n,mt)===!1)return this;var a=this.player,o=this.loadImage.bind(this),s=[],u=0,c=0;if(this.played=!0,this.onLoadWhenPlay=o,i&&this.requestFullscreen(i),y(a,q),P(this.items,function(d,p){var m=d.querySelector("img"),v=document.createElement("img");v.src=ie(m,"originalUrl"),v.alt=m.getAttribute("alt"),v.referrerPolicy=m.referrerPolicy,u+=1,y(v,me),he(v,C,r.transition),te(d,ve)&&(y(v,Z),c=p),s.push(v),b(v,J,o,{once:!0}),a.appendChild(v)}),N(r.interval)&&r.interval>0){var f=function d(){clearTimeout(e.playing.timeout),T(s[c],Z),c-=1,c=c>=0?c:u-1,y(s[c],Z),e.playing.timeout=setTimeout(d,r.interval)},l=function d(){clearTimeout(e.playing.timeout),T(s[c],Z),c+=1,c=c<u?c:0,y(s[c],Z),e.playing.timeout=setTimeout(d,r.interval)};u>1&&(this.playing={prev:f,next:l,timeout:setTimeout(l,r.interval)})}return this},stop:function(){var e=this;if(!this.played)return this;var i=this.element,n=this.options;if(D(n.stop)&&b(i,gt,n.stop,{once:!0}),x(i,gt)===!1)return this;var r=this.player;return clearTimeout(this.playing.timeout),this.playing=!1,this.played=!1,P(r.getElementsByTagName("img"),function(a){E(a,J,e.onLoadWhenPlay)}),T(r,q),r.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,i=this.options,n=this.viewer,r=this.image,a=this.list;return!this.isShown||this.played||this.fulled||!i.inline?this:(this.fulled=!0,this.open(),y(this.button,$e),i.transition&&(T(a,C),this.viewed&&T(r,C)),y(n,Se),n.setAttribute("role","dialog"),n.setAttribute("aria-labelledby",this.title.id),n.setAttribute("aria-modal",!0),n.removeAttribute("style"),j(n,{zIndex:i.zIndex}),i.focus&&this.enforceFocus(),this.initContainer(),this.viewerData=L({},this.containerData),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){y(r,C),y(a,C)},0)})}),this)},exit:function(){var e=this,i=this.options,n=this.viewer,r=this.image,a=this.list;return!this.isShown||this.played||!this.fulled||!i.inline?this:(this.fulled=!1,this.close(),T(this.button,$e),i.transition&&(T(a,C),this.viewed&&T(r,C)),i.focus&&this.clearEnforceFocus(),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),T(n,Se),j(n,{zIndex:i.zIndexInline}),this.viewerData=L({},this.parentData),this.renderViewer(),this.renderList(),this.viewed&&this.initImage(function(){e.renderImage(function(){i.transition&&setTimeout(function(){y(r,C),y(a,C)},0)})}),this)},tooltip:function(){var e=this,i=this.options,n=this.tooltipBox,r=this.imageData;return!this.viewed||this.played||!i.tooltip?this:(n.textContent="".concat(Math.round(r.ratio*100),"%"),this.tooltipping?clearTimeout(this.tooltipping):i.transition?(this.fading&&x(n,z),y(n,q),y(n,me),y(n,C),n.removeAttribute("aria-hidden"),n.initialOffsetWidth=n.offsetWidth,y(n,Z)):(y(n,q),n.removeAttribute("aria-hidden")),this.tooltipping=setTimeout(function(){i.transition?(b(n,z,function(){T(n,q),T(n,me),T(n,C),n.setAttribute("aria-hidden",!0),e.fading=!1},{once:!0}),T(n,Z),e.fading=!0):(T(n,q),n.setAttribute("aria-hidden",!0)),e.tooltipping=!1},1e3),this)},toggle:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return this.imageData.ratio===1?this.zoomTo(this.imageData.oldRatio,!0,null,e):this.zoomTo(1,!0,null,e),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=L({},this.initialImageData),this.renderImage()),this},update:function(){var e=this,i=this.element,n=this.options,r=this.isImg;if(r&&!i.parentNode)return this.destroy();var a=[];if(P(r?[i]:i.querySelectorAll("img"),function(c){D(n.filter)?n.filter.call(e,c)&&a.push(c):e.getImageURL(c)&&a.push(c)}),!a.length)return this;if(this.images=a,this.length=a.length,this.ready){var o=[];if(P(this.items,function(c,f){var l=c.querySelector("img"),d=a[f];d&&l?(d.src!==l.src||d.alt!==l.alt)&&o.push(f):o.push(f)}),j(this.list,{width:"auto"}),this.initList(),this.isShown)if(this.length){if(this.viewed){var s=o.indexOf(this.index);if(s>=0)this.viewed=!1,this.view(Math.max(Math.min(this.index-s,this.length-1),0));else{var u=this.items[this.index];y(u,ve),u.setAttribute("aria-selected",!0)}}}else this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML="",this.title.innerHTML=""}else this.build();return this},destroy:function(){var e=this.element,i=this.options;return e[k]?(this.destroyed=!0,this.ready?(this.played&&this.stop(),i.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):i.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),i.inline||E(e,X,this.onStart),e[k]=void 0,this):this}},Mi={getImageURL:function(e){var i=this.options.url;return le(i)?i=e.getAttribute(i):D(i)?i=i.call(this,e):i="",i},enforceFocus:function(){var e=this;this.clearEnforceFocus(),b(document,Ye,this.onFocusin=function(i){var n=e.viewer,r=i.target;if(!(r===document||r===n||n.contains(r))){for(;r;){if(r.getAttribute("tabindex")!==null||r.getAttribute("aria-modal")==="true")return;r=r.parentElement}n.focus()}})},clearEnforceFocus:function(){this.onFocusin&&(E(document,Ye,this.onFocusin),this.onFocusin=null)},open:function(){var e=this.body;y(e,We),this.scrollbarWidth>0&&(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyComputedPaddingRight)||0),"px"))},close:function(){var e=this.body;T(e,We),this.scrollbarWidth>0&&(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,i=this.options,n=this.viewer;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,i.focus&&(n.focus(),this.enforceFocus()),D(i.shown)&&b(e,nt,i.shown,{once:!0}),x(e,nt)!==!1&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,i=this.options,n=this.viewer;i.fucus&&this.clearEnforceFocus(),this.close(),this.unbind(),y(n,W),n.removeAttribute("role"),n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-modal"),n.setAttribute("aria-hidden",!0),this.resetList(),this.resetImage(),this.fulled=!1,this.viewed=!1,this.isShown=!1,this.hiding=!1,this.destroyed||(D(i.hidden)&&b(e,at,i.hidden,{once:!0}),x(e,at,null,{cancelable:!1}))},requestFullscreen:function(e){var i=this.element.ownerDocument;if(this.fulled&&!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement)){var n=i.documentElement;n.requestFullscreen?ee(e)?n.requestFullscreen(e):n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()}},exitFullscreen:function(){var e=this.element.ownerDocument;this.fulled&&(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())},change:function(e){var i=this.options,n=this.pointers,r=n[Object.keys(n)[0]];if(r){var a=r.endX-r.startX,o=r.endY-r.startY;switch(this.action){case de:(a!==0||o!==0)&&(this.pointerMoved=!0,this.move(a,o,e));break;case oe:this.zoom(Zi(n),!1,null,e);break;case Be:{this.action="switched";var s=Math.abs(a);s>1&&s>Math.abs(o)&&(this.pointers={},a>1?this.prev(i.loop):a<-1&&this.next(i.loop));break}}P(n,function(u){u.startX=u.endX,u.startY=u.endY})}},isSwitchable:function(){var e=this.imageData,i=this.viewerData;return this.length>1&&e.x>=0&&e.y>=0&&e.width<=i.width&&e.height<=i.height}},Bi=M.Viewer,$i=function(t){return function(){return t+=1,t}}(-1),ne=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(gi(this,t),!e||e.nodeType!==1)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=L({},Me,ee(i)&&i),this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageClicked=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.moving=!1,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.rotating=!1,this.scaling=!1,this.showing=!1,this.timeout=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.wheeling=!1,this.zooming=!1,this.pointerMoved=!1,this.id=$i(),this.init()}return yi(t,[{key:"init",value:function(){var i=this,n=this.element,r=this.options;if(!n[k]){n[k]=this,r.focus&&!r.keyboard&&(r.focus=!1);var a=n.localName==="img",o=[];if(P(a?[n]:n.querySelectorAll("img"),function(c){D(r.filter)?r.filter.call(i,c)&&o.push(c):i.getImageURL(c)&&o.push(c)}),this.isImg=a,this.length=o.length,this.images=o,this.initBody(),G(document.createElement(k).style.transition)&&(r.transition=!1),r.inline){var s=0,u=function(){if(s+=1,s===i.length){var f;i.initializing=!1,i.delaying={abort:function(){clearTimeout(f)}},f=setTimeout(function(){i.delaying=!1,i.build()},0)}};this.initializing={abort:function(){P(o,function(f){f.complete||(E(f,J,u),E(f,F,u))})}},P(o,function(c){if(c.complete)u();else{var f,l;b(c,J,f=function(){E(c,F,l),u()},{once:!0}),b(c,F,l=function(){E(c,J,f),u()},{once:!0})}})}else b(n,X,this.onStart=function(c){var f=c.target;f.localName==="img"&&(!D(r.filter)||r.filter.call(i,f))&&i.view(i.images.indexOf(f))})}}},{key:"build",value:function(){if(!this.ready){var i=this.element,n=this.options,r=i.parentNode,a=document.createElement("div");a.innerHTML=Ai;var o=a.querySelector(".".concat(k,"-container")),s=o.querySelector(".".concat(k,"-title")),u=o.querySelector(".".concat(k,"-toolbar")),c=o.querySelector(".".concat(k,"-navbar")),f=o.querySelector(".".concat(k,"-button")),l=o.querySelector(".".concat(k,"-canvas"));if(this.parent=r,this.viewer=o,this.title=s,this.toolbar=u,this.navbar=c,this.button=f,this.canvas=l,this.footer=o.querySelector(".".concat(k,"-footer")),this.tooltipBox=o.querySelector(".".concat(k,"-tooltip")),this.player=o.querySelector(".".concat(k,"-player")),this.list=o.querySelector(".".concat(k,"-list")),o.id="".concat(k).concat(this.id),s.id="".concat(k,"Title").concat(this.id),y(s,n.title?be(Array.isArray(n.title)?n.title[0]:n.title):W),y(c,n.navbar?be(n.navbar):W),he(f,W,!n.button),n.keyboard&&f.setAttribute("tabindex",0),n.backdrop&&(y(o,"".concat(k,"-backdrop")),!n.inline&&n.backdrop!=="static"&&Ce(l,ge,"hide")),le(n.className)&&n.className&&n.className.split(He).forEach(function(I){y(o,I)}),n.toolbar){var d=document.createElement("ul"),p=ee(n.toolbar),m=ye.slice(0,3),v=ye.slice(7,9),g=ye.slice(9);p||y(u,be(n.toolbar)),P(p?n.toolbar:ye,function(I,O){var H=p&&ee(I),w=p?Ne(O):I,Q=H&&!G(I.show)?I.show:I;if(!(!Q||!n.zoomable&&m.indexOf(w)!==-1||!n.rotatable&&v.indexOf(w)!==-1||!n.scalable&&g.indexOf(w)!==-1)){var R=H&&!G(I.size)?I.size:I,B=H&&!G(I.click)?I.click:I,$=document.createElement("li");n.keyboard&&$.setAttribute("tabindex",0),$.setAttribute("role","button"),y($,"".concat(k,"-").concat(w)),D(B)||Ce($,ge,w),N(Q)&&y($,be(Q)),["small","large"].indexOf(R)!==-1?y($,"".concat(k,"-").concat(R)):w==="play"&&y($,"".concat(k,"-large")),D(B)&&b($,X,B),d.appendChild($)}}),u.appendChild(d)}else y(u,W);if(!n.rotatable){var A=u.querySelectorAll('li[class*="rotate"]');y(A,se),P(A,function(I){u.appendChild(I)})}if(n.inline)y(f,ki),j(o,{zIndex:n.zIndexInline}),window.getComputedStyle(r).position==="static"&&j(r,{position:"relative"}),r.insertBefore(o,i.nextSibling);else{y(f,wi),y(o,Se),y(o,me),y(o,W),j(o,{zIndex:n.zIndex});var _=n.container;le(_)&&(_=i.ownerDocument.querySelector(_)),_||(_=this.body),_.appendChild(o)}if(n.inline&&(this.render(),this.bind(),this.isShown=!0),this.ready=!0,D(n.ready)&&b(i,tt,n.ready,{once:!0}),x(i,tt)===!1){this.ready=!1;return}this.ready&&n.inline&&this.view(this.index)}}}],[{key:"noConflict",value:function(){return window.Viewer=Bi,t}},{key:"setDefaults",value:function(i){L(Me,ee(i)&&i)}}]),t}();L(ne.prototype,zi,ji,Ri,Vi,Mi);/*!
 * v-viewer v3.0.11
 * https://github.com/mirari/v-viewer#readme
 *
 * Copyright 2022 mirari
 * Released under the MIT license
 *
 * Date: 2022-10-25T08:49:33.301Z
 */var we=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wi(t){return t}var bt=Wi;function Fi(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var Yi=Fi,Ui=Yi,At=Math.max;function qi(t,e,i){return e=At(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,a=At(n.length-e,0),o=Array(a);++r<a;)o[r]=n[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=n[r];return s[e]=i(o),Ui(t,this,s)}}var Xi=qi;function Gi(t){return function(){return t}}var Ki=Gi,en=typeof we=="object"&&we&&we.Object===Object&&we,wt=en,tn=wt,nn=typeof self=="object"&&self&&self.Object===Object&&self,rn=tn||nn||Function("return this")(),ke=rn,an=ke,on=an.Symbol,kt=on,Tt=kt,It=Object.prototype,sn=It.hasOwnProperty,cn=It.toString,ue=Tt?Tt.toStringTag:void 0;function ln(t){var e=sn.call(t,ue),i=t[ue];try{t[ue]=void 0;var n=!0}catch{}var r=cn.call(t);return n&&(e?t[ue]=i:delete t[ue]),r}var hn=ln,un=Object.prototype,fn=un.toString;function dn(t){return fn.call(t)}var vn=dn,Ot=kt,mn=hn,gn=vn,yn="[object Null]",pn="[object Undefined]",Dt=Ot?Ot.toStringTag:void 0;function bn(t){return t==null?t===void 0?pn:yn:Dt&&Dt in Object(t)?mn(t):gn(t)}var Te=bn;function An(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var re=An,wn=Te,kn=re,Tn="[object AsyncFunction]",In="[object Function]",On="[object GeneratorFunction]",Dn="[object Proxy]";function En(t){if(!kn(t))return!1;var e=wn(t);return e==In||e==On||e==Tn||e==Dn}var Et=En,Pn=ke,Sn=Pn["__core-js_shared__"],_n=Sn,Qe=_n,Pt=function(){var t=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hn(t){return!!Pt&&Pt in t}var Nn=Hn,Cn=Function.prototype,xn=Cn.toString;function Qn(t){if(t!=null){try{return xn.call(t)}catch{}try{return t+""}catch{}}return""}var Ln=Qn,Zn=Et,Jn=Nn,zn=re,jn=Ln,Rn=/[\\^$.*+?()[\]{}|]/g,Vn=/^\[object .+?Constructor\]$/,Mn=Function.prototype,Bn=Object.prototype,$n=Mn.toString,Wn=Bn.hasOwnProperty,Fn=RegExp("^"+$n.call(Wn).replace(Rn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yn(t){if(!zn(t)||Jn(t))return!1;var e=Zn(t)?Fn:Vn;return e.test(jn(t))}var Un=Yn;function qn(t,e){return t==null?void 0:t[e]}var Xn=qn,Gn=Un,Kn=Xn;function er(t,e){var i=Kn(t,e);return Gn(i)?i:void 0}var tr=er,ir=tr,nr=function(){try{var t=ir(Object,"defineProperty");return t({},"",{}),t}catch{}}(),rr=nr,ar=Ki,St=rr,or=bt,sr=St?function(t,e){return St(t,"toString",{configurable:!0,enumerable:!1,value:ar(e),writable:!0})}:or,cr=sr,lr=800,hr=16,ur=Date.now;function fr(t){var e=0,i=0;return function(){var n=ur(),r=hr-(n-i);if(i=n,r>0){if(++e>=lr)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var dr=fr,vr=cr,mr=dr,gr=mr(vr),yr=gr,pr=bt,br=Xi,Ar=yr;function wr(t,e){return Ar(br(t,e,pr),t+"")}var kr=wr;function Tr(t,e){return t===e||t!==t&&e!==e}var _t=Tr,Ir=9007199254740991;function Or(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ir}var Ht=Or,Dr=Et,Er=Ht;function Pr(t){return t!=null&&Er(t.length)&&!Dr(t)}var Nt=Pr,Sr=9007199254740991,_r=/^(?:0|[1-9]\d*)$/;function Hr(t,e){var i=typeof t;return e=e??Sr,!!e&&(i=="number"||i!="symbol"&&_r.test(t))&&t>-1&&t%1==0&&t<e}var Ct=Hr,Nr=_t,Cr=Nt,xr=Ct,Qr=re;function Lr(t,e,i){if(!Qr(i))return!1;var n=typeof e;return(n=="number"?Cr(i)&&xr(e,i.length):n=="string"&&e in i)?Nr(i[e],t):!1}var Zr=Lr;function Jr(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var zr=Jr;function jr(t){return t!=null&&typeof t=="object"}var Ie=jr,Rr=Te,Vr=Ie,Mr="[object Arguments]";function Br(t){return Vr(t)&&Rr(t)==Mr}var $r=Br,xt=$r,Wr=Ie,Qt=Object.prototype,Fr=Qt.hasOwnProperty,Yr=Qt.propertyIsEnumerable,Ur=xt(function(){return arguments}())?xt:function(t){return Wr(t)&&Fr.call(t,"callee")&&!Yr.call(t,"callee")},qr=Ur,Xr=Array.isArray,Gr=Xr,Le={exports:{}};function Kr(){return!1}var ea=Kr;(function(t,e){var i=ke,n=ea,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===r,s=o?i.Buffer:void 0,u=s?s.isBuffer:void 0,c=u||n;t.exports=c})(Le,Le.exports);var ta=Te,ia=Ht,na=Ie,ra="[object Arguments]",aa="[object Array]",oa="[object Boolean]",sa="[object Date]",ca="[object Error]",la="[object Function]",ha="[object Map]",ua="[object Number]",fa="[object Object]",da="[object RegExp]",va="[object Set]",ma="[object String]",ga="[object WeakMap]",ya="[object ArrayBuffer]",pa="[object DataView]",ba="[object Float32Array]",Aa="[object Float64Array]",wa="[object Int8Array]",ka="[object Int16Array]",Ta="[object Int32Array]",Ia="[object Uint8Array]",Oa="[object Uint8ClampedArray]",Da="[object Uint16Array]",Ea="[object Uint32Array]",S={};S[ba]=S[Aa]=S[wa]=S[ka]=S[Ta]=S[Ia]=S[Oa]=S[Da]=S[Ea]=!0,S[ra]=S[aa]=S[ya]=S[oa]=S[pa]=S[sa]=S[ca]=S[la]=S[ha]=S[ua]=S[fa]=S[da]=S[va]=S[ma]=S[ga]=!1;function Pa(t){return na(t)&&ia(t.length)&&!!S[ta(t)]}var Sa=Pa;function _a(t){return function(e){return t(e)}}var Ha=_a,Ze={exports:{}};(function(t,e){var i=wt,n=e&&!e.nodeType&&e,r=n&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===n,o=a&&i.process,s=function(){try{var u=r&&r.require&&r.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(Ze,Ze.exports);var Na=Sa,Ca=Ha,Lt=Ze.exports,Zt=Lt&&Lt.isTypedArray,xa=Zt?Ca(Zt):Na,Qa=xa,La=zr,Za=qr,Ja=Gr,za=Le.exports,ja=Ct,Ra=Qa,Va=Object.prototype,Ma=Va.hasOwnProperty;function Ba(t,e){var i=Ja(t),n=!i&&Za(t),r=!i&&!n&&za(t),a=!i&&!n&&!r&&Ra(t),o=i||n||r||a,s=o?La(t.length,String):[],u=s.length;for(var c in t)(e||Ma.call(t,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||ja(c,u)))&&s.push(c);return s}var $a=Ba,Wa=Object.prototype;function Fa(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Wa;return t===i}var Ya=Fa;function Ua(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var qa=Ua,Xa=re,Ga=Ya,Ka=qa,eo=Object.prototype,to=eo.hasOwnProperty;function io(t){if(!Xa(t))return Ka(t);var e=Ga(t),i=[];for(var n in t)n=="constructor"&&(e||!to.call(t,n))||i.push(n);return i}var no=io,ro=$a,ao=no,oo=Nt;function so(t){return oo(t)?ro(t,!0):ao(t)}var co=so,lo=kr,ho=_t,uo=Zr,fo=co,Jt=Object.prototype,vo=Jt.hasOwnProperty,mo=lo(function(t,e){t=Object(t);var i=-1,n=e.length,r=n>2?e[2]:void 0;for(r&&uo(e[0],e[1],r)&&(n=1);++i<n;)for(var a=e[i],o=fo(a),s=-1,u=o.length;++s<u;){var c=o[s],f=t[c];(f===void 0||ho(f,Jt[c])&&!vo.call(t,c))&&(t[c]=a[c])}return t}),go=mo;const yo=typeof window<"u"&&window!==null;wo();const po=Object.prototype.propertyIsEnumerable,zt=Object.getOwnPropertySymbols;function Oe(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function bo(t){return typeof t=="object"?t===null:typeof t!="function"}function Ao(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function wo(){return yo&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function ko(t,...e){if(!Oe(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof zt!="function")return t;for(const i of e){const n=zt(i);for(const r of n)po.call(i,r)&&(t[r]=i[r])}return t}function jt(t,...e){let i=0;for(bo(t)&&(t=e[i++]),t||(t={});i<e.length;i++)if(Oe(e[i])){for(const n of Object.keys(e[i]))Ao(n)&&(Oe(t[n])&&Oe(e[i][n])?jt(t[n],e[i][n]):t[n]=e[i][n]);ko(t,e[i])}return t}const To=({images:t=[],options:e})=>{e=jt(e,{inline:!1});const i=document.createElement("div"),n=h.h("div",{style:{display:"none"},class:["__viewer-token"]},t.map(s=>h.h("img",typeof s=="string"?{src:s}:s)));h.render(n,i);const r=i.firstElementChild;document.body.appendChild(r);const a=new ne(r,e),o=a.destroy.bind(a);return a.destroy=function(){return o(),h.render(null,i),a},a.show(),r.addEventListener("hidden",function(){this.viewer===a&&a.destroy()}),a};var Io=ke,Oo=function(){return Io.Date.now()},Do=Oo,Eo=/\s/;function Po(t){for(var e=t.length;e--&&Eo.test(t.charAt(e)););return e}var So=Po,_o=So,Ho=/^\s+/;function No(t){return t&&t.slice(0,_o(t)+1).replace(Ho,"")}var Co=No,xo=Te,Qo=Ie,Lo="[object Symbol]";function Zo(t){return typeof t=="symbol"||Qo(t)&&xo(t)==Lo}var Jo=Zo,zo=Co,Rt=re,jo=Jo,Vt=NaN,Ro=/^[-+]0x[0-9a-f]+$/i,Vo=/^0b[01]+$/i,Mo=/^0o[0-7]+$/i,Bo=parseInt;function $o(t){if(typeof t=="number")return t;if(jo(t))return Vt;if(Rt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Rt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=zo(t);var i=Vo.test(t);return i||Mo.test(t)?Bo(t.slice(2),i?2:8):Ro.test(t)?Vt:+t}var Wo=$o,Fo=re,Je=Do,Mt=Wo,Yo="Expected a function",Uo=Math.max,qo=Math.min;function Xo(t,e,i){var n,r,a,o,s,u,c=0,f=!1,l=!1,d=!0;if(typeof t!="function")throw new TypeError(Yo);e=Mt(e)||0,Fo(i)&&(f=!!i.leading,l="maxWait"in i,a=l?Uo(Mt(i.maxWait)||0,e):a,d="trailing"in i?!!i.trailing:d);function p(w){var Q=n,R=r;return n=r=void 0,c=w,o=t.apply(R,Q),o}function m(w){return c=w,s=setTimeout(A,e),f?p(w):o}function v(w){var Q=w-u,R=w-c,B=e-Q;return l?qo(B,a-R):B}function g(w){var Q=w-u,R=w-c;return u===void 0||Q>=e||Q<0||l&&R>=a}function A(){var w=Je();if(g(w))return _(w);s=setTimeout(A,v(w))}function _(w){return s=void 0,d&&n?p(w):(n=r=void 0,o)}function I(){s!==void 0&&clearTimeout(s),c=0,n=u=r=s=void 0}function O(){return s===void 0?o:_(Je())}function H(){var w=Je(),Q=g(w);if(n=arguments,r=this,u=w,Q){if(s===void 0)return m(u);if(l)return clearTimeout(s),s=setTimeout(A,e),p(u)}return s===void 0&&(s=setTimeout(A,e)),o}return H.cancel=I,H.flush=O,H}var Go=Xo;const Ko=({name:t="viewer",debug:e=!1}={})=>{async function i(l,d,p=!1,m=!1){await h.nextTick(),!(m&&!n(l))&&(p||!l[`$${t}`]?(o(l),l[`$${t}`]=new ne(l,d),c("Viewer created")):(l[`$${t}`].update(),c("Viewer updated")))}function n(l){const d=l.innerHTML.match(/<img([\w\W]+?)[\\/]?>/g),p=d?d.join(""):void 0;return l.__viewerImageDiffCache===p?(c("Element change detected, but image(s) has not changed"),!1):(c("Image change detected"),l.__viewerImageDiffCache=p,!0)}function r(l,d,p,m){s(l);const v=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(!v){c("Observer not supported");return}const g=new v(_=>{_.forEach(I=>{c(`Viewer mutation:${I.type}`),p(l,d,m,!0)})}),A={attributes:!0,childList:!0,characterData:!0,subtree:!0};g.observe(l,A),l.__viewerMutationObserver=g,c("Observer created")}function a(l,d,p,m){l.__viewerUnwatch=h.watch(()=>d.value,(v,g)=>{c("Change detected by watcher: ",d.value),m(l,v,!0,!1)},{deep:!0}),c("Watcher created, expression: ",d.value)}function o(l){l[`$${t}`]&&(l[`$${t}`].destroy(),delete l[`$${t}`],c("Viewer destroyed"))}function s(l){l.__viewerMutationObserver&&(l.__viewerMutationObserver.disconnect(),delete l.__viewerMutationObserver,c("observer destroyed"))}function u(l){l.__viewerUnwatch&&(l.__viewerUnwatch(),delete l.__viewerUnwatch,c("Watcher destroyed"))}function c(...l){e&&console.log(...l)}return{mounted(l,d,p){c("Viewer bind");const m=Go(i,50);m(l,d.value),a(l,d,p,m),d.modifiers.static||r(l,d.value,m,d.modifiers.rebuild)},unmounted(l){c("Viewer unbind"),s(l),u(l),o(l)}}};var es=(t,e)=>{const i=t.__vccOpts||t;for(const[n,r]of e)i[n]=r;return i};const ts=h.defineComponent({name:"Viewer",props:{images:{type:Array,default:()=>[]},rebuild:{type:Boolean,default:!1},trigger:{type:Object,default:null},options:{type:Object,default:()=>null}},emits:["inited"],setup(t,{emit:e}){let i;const n=h.ref();function r(){i=new ne(n.value,t.options),e("inited",i)}function a(){i&&i.destroy()}function o(){a(),r()}function s(){i?(i.update(),e("inited",i)):r()}function u(){t.rebuild?o():s()}const c={deep:!0};return h.watch(()=>t.images,()=>h.nextTick(()=>u()),c),h.watch(()=>t.trigger,()=>h.nextTick(()=>u()),c),h.watch(()=>t.options,()=>h.nextTick(()=>o()),c),h.onMounted(()=>r()),h.onUnmounted(()=>a()),{root:n,createViewer:r,rebuildViewer:o,updateViewer:s,destroyViewer:a}}}),is={ref:"root"};function ns(t,e,i,n,r,a){return h.openBlock(),h.createElementBlock("div",is,[h.renderSlot(t.$slots,"default",{images:t.images,options:t.options})],512)}var rs=es(ts,[["render",ns]]),as={install(t,{name:e="viewer",debug:i=!1,defaultOptions:n}={}){n&&ne.setDefaults(n),t.config.globalProperties[`$${e}Api`]=To,t.component(e,go(rs,{name:e})),t.directive(e,Ko({name:e,debug:i}))},setDefaults(t){ne.setDefaults(t)}};/*!
 * vue3-lazy v1.0.0-alpha.1
 * (c) 2020-2020 ustbhuangyi
 * Released under the MIT License.
 */var V;(function(t){t[t.loading=0]="loading",t[t.loaded=1]="loaded",t[t.error=2]="error"})(V||(V={}));var os=typeof window<"u",Bt=ss();function ss(){return os&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}var ze=function(t,e){return getComputedStyle(t).getPropertyValue(e)},cs=function(t){return ze(t,"overflow")+ze(t,"overflow-y")+ze(t,"overflow-x")};function ls(t){for(var e=t;e&&!(e===document.body||e===document.documentElement||!e.parentNode);){if(/(scroll|auto)/.test(cs(e)))return e;e=e.parentNode}return window}function hs(t){return new Promise(function(e,i){var n=new Image;n.onload=function(){e(),r()},n.onerror=function(a){i(a),r()},n.src=t;function r(){n.onload=n.onerror=null}})}function us(t){console.warn("[Vue3-lazy warn]: "+t)}var fs=function(){function t(e){this.el=e.el,this.parent=e.parent,this.src=e.src,this.error=e.error,this.loading=e.loading,this.cache=e.cache,this.state=V.loading,this.render(this.loading)}return t.prototype.load=function(e){if(!(this.state>V.loading)){if(this.cache.has(this.src)){this.state=V.loaded,this.render(this.src);return}this.renderSrc(e)}},t.prototype.isInView=function(){var e=this.el.getBoundingClientRect();return e.top<window.innerHeight&&e.left<window.innerWidth},t.prototype.update=function(e){var i=this.src;e!==i&&(this.src=e,this.state=V.loading)},t.prototype.renderSrc=function(e){var i=this;hs(this.src).then(function(){i.state=V.loaded,i.render(i.src),i.cache.add(i.src),e&&e()}).catch(function(n){i.state=V.error,i.render(i.error),us("load failed with src image("+i.src+") and the error msg is "+n.message),e&&e()})},t.prototype.render=function(e){this.el.setAttribute("src",e)},t}();function ds(t,e){var i=0,n=0;return function(){if(!i){var r=Date.now()-n,a=this,o=arguments,s=function(){n=Date.now(),i=0,t.apply(a,o)};r>=e?s():i=window.setTimeout(s,e)}}}var $t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Wt=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove","transitioncancel"],vs=300,ms=function(){function t(e){this.error=e.error||$t,this.loading=e.loading||$t,this.cache=new Set,this.managerQueue=[],this.throttleLazyHandler=ds(this.lazyHandler.bind(this),vs),this.init()}return t.prototype.add=function(e,i){var n=i.value,r=ls(e),a=new fs({el:e,parent:r,src:n,error:this.error,loading:this.loading,cache:this.cache});this.managerQueue.push(a),Bt?this.observer.observe(e):(this.addListenerTarget(r),this.addListenerTarget(window),this.throttleLazyHandler())},t.prototype.update=function(e,i){var n=i.value,r=this.managerQueue.find(function(a){return a.el===e});r&&r.update(n)},t.prototype.remove=function(e){var i=this.managerQueue.find(function(n){return n.el===e});i&&this.removeManager(i)},t.prototype.init=function(){Bt?this.initIntersectionObserver():this.targetQueue=[]},t.prototype.initIntersectionObserver=function(){var e=this;this.observer=new IntersectionObserver(function(i){i.forEach(function(n){if(n.isIntersecting){var r=e.managerQueue.find(function(a){return a.el===n.target});if(r){if(r.state===V.loaded){e.removeManager(r);return}r.load()}}})},{rootMargin:"0px",threshold:0})},t.prototype.addListenerTarget=function(e){var i=this.targetQueue.find(function(n){return n.el===e});i?i.ref++:(i={el:e,ref:1},this.targetQueue.push(i),this.addListener(e))},t.prototype.removeListenerTarget=function(e){var i=this;this.targetQueue.some(function(n,r){return e===n.el?(n.ref--,n.ref||(i.removeListener(e),i.targetQueue.splice(r,1)),!0):!1})},t.prototype.addListener=function(e){var i=this;Wt.forEach(function(n){e.addEventListener(n,i.throttleLazyHandler,{passive:!0,capture:!1})})},t.prototype.removeListener=function(e){var i=this;Wt.forEach(function(n){e.removeEventListener(n,i.throttleLazyHandler)})},t.prototype.lazyHandler=function(e){for(var i=this.managerQueue.length-1;i>=0;i--){var n=this.managerQueue[i];if(n.isInView()){if(n.state===V.loaded){this.removeManager(n);return}n.load()}}},t.prototype.removeManager=function(e){var i=this.managerQueue.indexOf(e);i>-1&&this.managerQueue.splice(i,1),this.observer?this.observer.unobserve(e.el):(this.removeListenerTarget(e.parent),this.removeListenerTarget(window))},t}(),gs={install:function(t,e){var i=new ms(e);t.directive("lazy",{mounted:i.add.bind(i),updated:i.update.bind(i),unmounted:i.update.bind(i)})}};const ys="data:image/webp;base64,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",ps="data:image/webp;base64,UklGRuYMAABXRUJQVlA4INoMAADwggGdASqbBiEEPtFosVMoJiSioAgBABoJaW7hd2EbQAn3n7z1FT956ip+89RU/eeoqfvPUVP3nqKn7z1FT956ip+89RU/eeoqfvPUVP3nqKn7z1FT956ip+88yXa8XJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ycKAD+/7mnBLDAAAmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==";class bs{constructor({serverUrl:e,selector:i,zoom:n,custom:r}){this.app=null,this.serverUrl=e,this.selector=i,this.zoom=n,this.custom=r}init(){const e=document.querySelector(this.selector);if(e)return this.app=h.createApp(mi,{config:this.getConfig()}),this.app.use(gs,{loading:ps,error:ys}),this.app.use(as,{defaultOptions:{title:!1,toolbar:!1,navbar:!1}}),this.app.mount(e),!0;throw new Error("mountContainer not found")}destroy(){if(this.app)return this.app.unmount(),!0;throw new Error("mountContainer not found")}getConfig(){return{serverUrl:this.serverUrl,selector:this.selector,zoom:this.zoom,custom:this.custom}}}window.tgTalker=bs});
