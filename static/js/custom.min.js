function isFontCached(){return"true"===localStorage.getItem("cachedFont")}function cacheFont(){localStorage.setItem("cachedFont","true")}function loadFont(){document.body.style.fontFamily="LXGW, LXGW Wenkai, lxgwwenkailite, LXGWWenKaiLite, -apple-system, BlinkMacSystemFont, helvetica neue, Helvetica, segoe ui,Roboto, Oxygen, Ubuntu, Cantarell, open sans, Arial, pingfang sc, hiragino sans gb, hiragino sans, microsoft yahei, wenquanyi micro hei, noto sans sc,  sans-serif, apple color emoji, segoe ui emoji, segoe ui symbol, noto color emoji, android emoji, emojisymbols, emojione"}function client(){const e=document.getElementById("client-id");if(e){if(isWebpSupported){const n='<div id="Step1"><span style="cursor: default;">WebP 兼容性: <span id="l-rc"><span style="color: green;">Compatible</span></span></span></div>';e.innerHTML=n}else{const o='<div id="Step1"><span style="cursor: default;">WebP 兼容性: <span id="l-rc"><span style="color: red;">Exclusive</span></span></span></div>';e.innerHTML=o;const t=document.getElementById("Step1");function n(e,n){e===t&&t.addEventListener("click",function(){n&&(document.getElementById("l-rc").innerHTML='<span style="color: blue;">reCheck...</span>',setTimeout(()=>{document.getElementById("l-rc").innerHTML=isWebpSupported?'<span style="color: green;">Compatible</span>':'<span style="color: red;">Exclusive</span>'},1e3))})}n(t,!0)}fakeCheck=function(){function n(e,n){e===t&&t.addEventListener("click",function(){n&&(document.getElementById("l-rc").innerHTML='<span style="color: blue;">reCheck...</span>',setTimeout(()=>{document.getElementById("l-rc").innerHTML=isWebpSupported?'<span style="color: green;">Compatible</span>':'<span style="color: red;">Exclusive</span>'},1e3))})}const o='<div id="Step1"><span style="cursor: default;">WebP 兼容性: <span id="l-rc"><span style="color: red;">Exclusive</span></span></span></div>';e.innerHTML=o;const t=document.getElementById("Step1");n(t,!0)},console.log("%cChecking...","color: green; font-weight: bold;")}else console.log("%cStaying...","color: red; font-weight: bold;")}isFontCached()?(console.log("%c字体缓存: Existence","color: green; font-weight: bold;"),loadFont()):(console.log("%c字体缓存: Missing","color: red; font-weight: bold;"),console.log("%c字体缓存机制: Caching","color: blue; font-weight: bold;"),cacheFont(),loadFont(),console.log("%c字体缓存机制: Success","color: green; font-weight: bold;"));const checkWebpSupport=async()=>{const e=async({createImageBitmap:e,Image:n})=>{if(!e||!n)return!1;try{const o=new n;return await new Promise((e,n)=>{o.onload=e,o.onerror=n,o.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="}),await e(o),!0}catch(e){return!1}},n=()=>{let n=null;return()=>(n||(n=e(window)),n)};try{const e=await n()();return e}catch(e){return console.error(e),!1}},isWebpSupported=checkWebpSupport().then(e=>e);let fakeCheck;export{fakeCheck};client();